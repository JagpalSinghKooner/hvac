{
  "project": "Phase 8A: City-Level Content Customization",
  "branchName": "feature/phase-8a-content-customization",
  "description": "Transform 550 service-city pages with 3,850 unique keyword-researched headings and E-E-A-T compliance",
  "userStories": [
    {
      "id": "US-006",
      "title": "Guelph Keyword Research & Positioning",
      "description": "As a content writer, I need keyword research and positioning angles for Guelph so I can write city-specific content.",
      "acceptanceCriteria": [
        "STEP 1: Check if docs/reference/guelph-keywords.md exists",
        "IF NOT EXISTS: Run /keyword-research skill for Guelph + all 22 services (target: 154 unique headings, 7 per service)",
        "IF NOT EXISTS: Save output to docs/reference/guelph-keywords.md with format: Service name, H1 (hero.title), H2 (problem.headline), H2 (solution.headline), H2 (benefitsHeadline), H2 (contextHeadline), H2 (savings.headline), H2 (finalCta.headline)",
        "IF EXISTS: Read file and verify 154 headings present",
        "STEP 2: Check if docs/reference/guelph-positioning.md exists",
        "IF NOT EXISTS: Read guelph-keywords.md (main themes only), run /positioning-angles skill",
        "IF NOT EXISTS: Save winning positioning angle to docs/reference/guelph-positioning.md (1-2 paragraphs max)",
        "IF EXISTS: Read file and verify positioning angle present",
        "VERIFICATION: Both files exist in docs/reference/ (guelph-keywords.md, guelph-positioning.md)",
        "pnpm build passes (639 pages)"
      ],
      "priority": 6,
      "passes": false,
      "notes": "Creates research foundation files. Next story (US-007) uses these files as input for content generation."
    },
    {
      "id": "US-007",
      "title": "Guelph Content - Batch 1 (11 services)",
      "description": "As a content writer, I need to populate content for first 11 Guelph service-city pages using keyword research and positioning.",
      "acceptanceCriteria": [
        "PREREQUISITE STEP 1: Read docs/reference/guelph-keywords.md (extract keywords for services 1-11 only)",
        "PREREQUISITE STEP 2: Read docs/reference/guelph-positioning.md (winning angle summary, 1-2 sentences)",
        "PREREQUISITE STEP 3: Read docs/project/ralph/brand-voice.md (FULL brand voice profile)",
        "PREREQUISITE STEP 4: Verify all 11 target files exist (run: ls src/content/service-city/{air-conditioner-installation,air-conditioner-maintenance,air-conditioner-repair,air-filtration-air-purifiers,boiler-installation,boiler-maintenance,boiler-repair,commercial-hvac,dehumidifiers,ductless-mini-split,furnace-installation}/guelph.md | wc -l) - should return 11",
        "TARGET FILES (11 total, EXACT PATHS):",
        "  1. src/content/service-city/air-conditioner-installation/guelph.md",
        "  2. src/content/service-city/air-conditioner-maintenance/guelph.md",
        "  3. src/content/service-city/air-conditioner-repair/guelph.md",
        "  4. src/content/service-city/air-filtration-air-purifiers/guelph.md",
        "  5. src/content/service-city/boiler-installation/guelph.md",
        "  6. src/content/service-city/boiler-maintenance/guelph.md",
        "  7. src/content/service-city/boiler-repair/guelph.md",
        "  8. src/content/service-city/commercial-hvac/guelph.md",
        "  9. src/content/service-city/dehumidifiers/guelph.md",
        "  10. src/content/service-city/ductless-mini-split/guelph.md",
        "  11. src/content/service-city/furnace-installation/guelph.md",
        "FOR EACH FILE (process in order 1-11):",
        "  STEP A: Verify file exists (use Read tool with EXACT file path from list above)",
        "  STEP B: If file does NOT exist, ERROR and stop (all files should exist from previous setup)",
        "  STEP C: If file exists, read entire file and check frontmatter for hero.title field",
        "  STEP D: If hero.title has content (not empty string), SKIP to next file in list (content already exists)",
        "  STEP E: If hero.title is empty/missing, proceed with content generation below:",
        "IF FILE NEEDS CONTENT (hero.title is empty):",
        "  1. Run /seo-content skill with keywords from guelph-keywords.md for THIS service only",
        "  2. Run /direct-response-copy skill with positioning + keywords for THIS service",
        "  3. WRITE/UPDATE the .md file with ALL schema fields:",
        "     - hero.title (from direct-response-copy output)",
        "     - hero.description (from direct-response-copy output, must mention installation count)",
        "     - finalCta.headline (from direct-response-copy output)",
        "     - finalCta.copy (from direct-response-copy output)",
        "     - benefitsHeadline (from keyword research, benefits H2)",
        "     - contextHeadline (from keyword research, context H2)",
        "     - experienceStats.installationsInCity (calculate: furnace=1200, heat-pump=400, AC=900, boiler=150, etc.)",
        "     - experienceStats.yearsSinceCityStart: 32",
        "     - problem section: headline (from keyword research H2), description (from seo-content)",
        "     - solution section: headline (from keyword research H2), description (from seo-content)",
        "     - trustOpener (from direct-response-copy, 50-100 words)",
        "     - benefits (from direct-response-copy, 120 words)",
        "     - context (from seo-content, 200-400 words, must mention Guelph Hydro + Enbridge)",
        "     - savings section: headline (from keyword research H2), description (from direct-response-copy, mention rebates)",
        "  4. Save the file (use Write tool with EXACT file path from list above, OVERWRITE existing file)",
        "AFTER ALL 11 FILES PROCESSED:",
        "VERIFICATION STEP 1: Count how many files have hero.title populated (read all 11 files, count non-empty hero.title)",
        "VERIFICATION STEP 2: Confirm count = 11 (all files must have content)",
        "VERIFICATION STEP 3: If count < 11, list which file numbers are missing content and FAIL this story",
        "VERIFICATION STEP 4: Word count check - each file ~1,000 words (hero 50-100, trustOpener 50-100, problem 250-350, solution 250-350, benefits 120, context 200-400, savings 100-150, finalCta 50-75)",
        "VERIFICATION STEP 5: Premium positioning check - all H1s include 'Trusted' OR 'Expert' OR 'Professional' OR 'Since 1994' (NO '24/7', 'Emergency', 'Same-Day')",
        "VERIFICATION STEP 6: Run pnpm build (must pass with 639 pages)",
        "SUCCESS CRITERIA: All 6 verification steps pass (11 files complete, correct word counts, premium positioning, build passes)"
      ],
      "priority": 7,
      "passes": false,
      "notes": "Processes 11 services. Each file check is conditional - if content exists, skip. Next: US-008 (remaining 11 services)."
    },
    {
      "id": "US-008",
      "title": "Guelph Content - Batch 2 (11 services)",
      "description": "As a content writer, I need to populate content for remaining 11 Guelph service-city pages.",
      "acceptanceCriteria": [
        "PREREQUISITE STEP 1: Read docs/reference/guelph-keywords.md (extract keywords for services 12-22 only)",
        "PREREQUISITE STEP 2: Read docs/reference/guelph-positioning.md (winning angle summary, 1-2 sentences)",
        "PREREQUISITE STEP 3: Read docs/project/ralph/brand-voice.md (FULL brand voice profile)",
        "PREREQUISITE STEP 4: Verify all 11 target files exist (run: ls src/content/service-city/{furnace-maintenance,furnace-repair,heat-pump-installation,heat-pump-maintenance,heat-pump-repair,hrv-erv-ventilation,humidifiers,maintenance-plans,rooftop-units,tank-water-heaters,tankless-water-heaters}/guelph.md | wc -l) - should return 11",
        "TARGET FILES (11 total, EXACT PATHS):",
        "  12. src/content/service-city/furnace-maintenance/guelph.md",
        "  13. src/content/service-city/furnace-repair/guelph.md",
        "  14. src/content/service-city/heat-pump-installation/guelph.md",
        "  15. src/content/service-city/heat-pump-maintenance/guelph.md",
        "  16. src/content/service-city/heat-pump-repair/guelph.md",
        "  17. src/content/service-city/hrv-erv-ventilation/guelph.md",
        "  18. src/content/service-city/humidifiers/guelph.md",
        "  19. src/content/service-city/maintenance-plans/guelph.md",
        "  20. src/content/service-city/rooftop-units/guelph.md",
        "  21. src/content/service-city/tank-water-heaters/guelph.md",
        "  22. src/content/service-city/tankless-water-heaters/guelph.md",
        "FOR EACH FILE (process in order 12-22):",
        "  STEP A: Verify file exists (use Read tool with EXACT file path from list above)",
        "  STEP B: If file does NOT exist, ERROR and stop (all files should exist from previous setup)",
        "  STEP C: If file exists, read entire file and check frontmatter for hero.title field",
        "  STEP D: If hero.title has content (not empty string), SKIP to next file in list (content already exists)",
        "  STEP E: If hero.title is empty/missing, proceed with content generation below:",
        "IF FILE NEEDS CONTENT (hero.title is empty):",
        "  1. Run /seo-content skill with keywords from guelph-keywords.md for THIS service only",
        "  2. Run /direct-response-copy skill with positioning + keywords for THIS service",
        "  3. WRITE/UPDATE the .md file with ALL schema fields (same structure as US-007)",
        "  4. Save the file (use Write tool with EXACT file path from list above, OVERWRITE existing file)",
        "AFTER ALL 11 FILES PROCESSED:",
        "VERIFICATION STEP 1: Count how many files have hero.title populated (read all 11 files, count non-empty hero.title)",
        "VERIFICATION STEP 2: Confirm count = 11 (all files must have content)",
        "VERIFICATION STEP 3: If count < 11, list which file numbers (12-22) are missing content and FAIL this story",
        "VERIFICATION STEP 4: Word count check - each file ~1,000 words",
        "VERIFICATION STEP 5: Premium positioning check - all H1s use premium language (NO emergency terms)",
        "VERIFICATION STEP 6: Run pnpm build (must pass with 639 pages)",
        "SUCCESS CRITERIA: All 6 verification steps pass (11 files complete, correct word counts, premium positioning, build passes)"
      ],
      "priority": 8,
      "passes": false,
      "notes": "Completes all 22 Guelph services. Next: US-009 (quality verification)."
    },
    {
      "id": "US-009",
      "title": "Guelph Content Quality Verification",
      "description": "As a QA tester, I need to verify all 22 Guelph pages meet quality standards before moving to other cities.",
      "acceptanceCriteria": [
        "STEP 1: Check heading uniqueness across all 22 Guelph files",
        "Extract all H1s (hero.title) from src/content/service-city/*/guelph.md files (should be 22 H1s)",
        "Extract all H2s (problem.headline, solution.headline, benefitsHeadline, contextHeadline, savings.headline, finalCta.headline) (should be 132 H2s)",
        "Verify ZERO duplicates (all 154 headings are unique)",
        "STEP 2: Check em dash usage",
        "Run: grep -r '\\-\\-' src/content/service-city/*/guelph.md | grep -v '^---' (should return 0 matches)",
        "STEP 3: Verify experience stats visible",
        "Check all 22 files have experienceStats.installationsInCity populated",
        "Check all 22 files mention installations in hero.description (e.g., 'Over 1,200 furnace installations in Guelph')",
        "STEP 4: Visual testing",
        "Run /agent-browser on 3 sample pages: furnace-installation/guelph, heat-pump-installation/guelph, air-conditioner-installation/guelph",
        "Verify: H1 renders correctly, internal links work, word count ~1,000 per page",
        "VERIFICATION: All checks pass (154 unique headings, 0 em dashes, stats visible, browser tests pass)",
        "pnpm build passes (639 pages)"
      ],
      "priority": 9,
      "passes": false,
      "notes": "QUALITY GATE for Guelph before scaling to other cities. If this fails, fix Guelph before continuing. Next: US-010 (Burlington, Oakville, Milton research)."
    }
  ]
}
