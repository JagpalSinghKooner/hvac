---
import { getEntry } from 'astro:content';
import BaseLayout from '@/layouts/BaseLayout.astro';
import HeroSection from '@/components/sections/HeroSection.astro';
import ValuePropsGrid from '@/components/sections/ValuePropsGrid.astro';
import BrandLogoTicker from '@/components/ui/BrandLogoTicker.astro';
import ServiceCategoriesGrid from '@/components/sections/ServiceCategoriesGrid.astro';
import ExpertConsultationSection from '@/components/sections/ExpertConsultationSection.astro';

const businessProfile = await getEntry('business', 'profile');
if (!businessProfile) {
  throw new Error('Business profile not found');
}
const business = businessProfile.data;
---

<BaseLayout
  title={`${business.business.legal_name} | HVAC Services Guelph & Southern Ontario`}
  description={(business as any).copy_blocks.short_description}
>
  <HeroSection />
  <ValuePropsGrid />
  <BrandLogoTicker />
  <ServiceCategoriesGrid />
  <ExpertConsultationSection />
</BaseLayout>
