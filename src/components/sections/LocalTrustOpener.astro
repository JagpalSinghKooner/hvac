---
import { Badge } from '@/components/ui/badge';

interface Props {
  cityName: string;
  neighborhoods?: string[];
  rating?: number;
  localStats?: string;
}

const { cityName, neighborhoods, rating, localStats } = Astro.props;
---

<section class="py-20 md:py-28 bg-primary/5 relative overflow-hidden">
  <!-- Subtle decorative element -->
  <div class="absolute inset-0 opacity-[0.02] pointer-events-none" aria-hidden="true">
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-primary rounded-full blur-3xl"></div>
  </div>

  <div class="container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
    <div class="text-center space-y-6">
      <!-- Main Headline -->
      <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold leading-tight tracking-tight">
        {cityName} Homeowners Trust B.A.P
      </h2>

      <!-- Neighborhoods -->
      {neighborhoods && neighborhoods.length > 0 && (
        <p class="text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto">
          Serving {neighborhoods.join(', ')}
        </p>
      )}

      <!-- Rating & Stats Badges -->
      {(rating || localStats) && (
        <div class="flex flex-wrap items-center justify-center gap-3 mt-8" role="list">
          {rating && (
            <Badge
              variant="secondary"
              className="text-sm md:text-base px-4 py-2.5 font-medium flex items-center gap-2"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="w-4 h-4 text-yellow-500"
                aria-hidden="true"
              >
                <path
                  fill-rule="evenodd"
                  d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z"
                  clip-rule="evenodd"
                />
              </svg>
              {rating.toFixed(1)} rating
            </Badge>
          )}
          {localStats && (
            <Badge
              variant="secondary"
              className="text-sm md:text-base px-4 py-2.5 font-medium"
            >
              {localStats}
            </Badge>
          )}
        </div>
      )}
    </div>
  </div>
</section>

<style>
  /* Subtle fade-in animation */
  section {
    animation: fadeIn 0.6s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Badge entrance animation */
  [role="list"] > :global(.badge) {
    animation: scaleIn 0.4s ease-out backwards;
  }

  [role="list"] > :global(.badge:nth-child(1)) {
    animation-delay: 0.2s;
  }

  [role="list"] > :global(.badge:nth-child(2)) {
    animation-delay: 0.3s;
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
</style>
