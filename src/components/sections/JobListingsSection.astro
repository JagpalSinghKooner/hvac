---
import Section from '@/components/layout/Section.astro';
import Container from '@/components/layout/Container.astro';
import { JobListingsAccordion } from '@/components/sections/JobListingsAccordion.tsx';
import type { Job } from '@/data/jobs';

interface Props {
  jobs: Job[];
  heading?: string;
  subheading?: string;
  class?: string;
}

const {
  jobs,
  heading = 'Open Positions',
  subheading,
  class: className
} = Astro.props;
---

<div id="open-positions">
<Section padding="lg" class={className}>
  <Container>
    {/* Heading */}
    {(heading || subheading) && (
      <div class="text-center mb-12">
        {heading && (
          <h2 class="text-3xl font-semibold mb-4">
            {heading}
          </h2>
        )}
        {subheading && (
          <p class="text-lg text-muted-foreground max-w-3xl mx-auto">
            {subheading}
          </p>
        )}
      </div>
    )}

    {/* Job Listings or Empty State */}
    {jobs.length > 0 ? (
      <JobListingsAccordion jobs={jobs} client:load />
    ) : (
      <div class="text-center py-16 max-w-2xl mx-auto">
        <h3 class="text-2xl font-semibold mb-4">No Open Positions at This Time</h3>
        <p class="text-lg text-muted-foreground mb-6">
          We're always interested in connecting with talented individuals who share our commitment to quality service.
        </p>
        <p class="text-base">
          Send your resume to <a href="mailto:careers@bapheating.ca" class="text-primary underline font-medium">careers@bapheating.ca</a>
          and we'll keep it on file for future opportunities.
        </p>
      </div>
    )}
  </Container>
</Section>
</div>
